(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{1374:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/unsubscribe",function(){return n(9651)}])},9099:(e,s,n)=>{e.exports=n(6296)},9651:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>c});var t=n(7876),r=n(9099),i=n(4232);function c(){let{token:e}=(0,r.useRouter)().query,[s,n]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);async function l(s){u(!0);try{let t=await fetch("/api/unsubscribe?token=".concat(e,"&type=").concat(s));(await t.json()).success?n("success"):n("error")}catch(e){n("error")}finally{u(!1)}}return(0,t.jsxs)("div",{style:{fontFamily:"sans-serif",padding:"2rem",textAlign:"center"},children:[(0,t.jsx)("h1",{children:"Email Preferences"}),!s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Select what you want to unsubscribe from:"}),(0,t.jsx)("button",{onClick:()=>l("marketing"),disabled:c,children:"Marketing"}),(0,t.jsx)("button",{onClick:()=>l("newsletters"),disabled:c,children:"Newsletters"}),(0,t.jsx)("button",{onClick:()=>l("both"),disabled:c,children:"Both"})]}),"success"===s&&(0,t.jsx)("h2",{children:"✅ You’ve been unsubscribed"}),"error"===s&&(0,t.jsx)("h2",{children:"❌ Invalid or expired link"})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=1374)),_N_E=e.O()}]);